{# --- Generic icon button (base) --- #}
{% macro icon_button(url='#', icon='', text='', color='outline-secondary', size='sm', title='', disabled=False, target='') %}
    <a href="{{ url if not disabled else '#' }}"
       class="btn btn-{{ size }} btn-{{ color }} d-flex align-items-center {% if disabled %}disabled{% endif %}"
       {% if title %}title="{{ title }}"{% endif %}
       {% if target %}target="{{ target }}"{% endif %}>
        {% if icon %}<i class="fas fa-{{ icon }} me-1"></i>{% endif %}
        {% if text %}<span>{{ text }}</span>{% endif %}
    </a>
{% endmacro %}


{# --- Common outlined variants --- #}

{% macro add_button(url, label='Přidat', icon='plus', color='outline-primary') %}
    {{ icon_button(url, icon=icon, text=label, color=color, title=label) }}
{% endmacro %}

{% macro edit_button(url, label='Upravit', icon='edit', color='outline-info') %}
    {{ icon_button(url, icon=icon, text=label, color=color, title=label) }}
{% endmacro %}

{% macro move_button(
    modal_target,
    title='Převést do dalšího semestru',
    icon='file-export',
    color='outline-primary',
    size='sm',
    extra_class='',
    data={}
) %}
    <button type="button"
            class="btn btn-{{ color }} btn-{{ size }} {{ extra_class }}"
            data-bs-toggle="modal"
            data-bs-target="#{{ modal_target }}"
            {% if title %}title="{{ title }}"{% endif %}
            {% for k, v in data.items() %}
            data-{{ k }}="{{ v }}"
            {% endfor %}>
        <i class="fas fa-{{ icon }}"></i>
    </button>
{% endmacro %}

{% macro modal_button(title, modal_target, color="primary", icon="") %}
    <button
            type="button"
            class="btn btn-sm btn-{{ color }} d-flex align-items-center"
            data-bs-toggle="modal" data-bs-target="#{{ modal_target }}"
            title="{{ title }}">
        <i class="{{ icon }}"></i>
        <span class="ms-2 d-none d-md-inline">{{ title }}</span>
    </button>
{% endmacro %}


{% macro modal_outline_button(title, modal_target, color="primary", icon="") %}
    <button
            type="button"
            class="btn btn-sm btn-outline-{{ color }} d-flex align-items-center"
            data-bs-toggle="modal" data-bs-target="#{{ modal_target }}"
            title="{{ title }}">
        <i class="{{ icon }}"></i>
        <span class="ms-2 d-none d-md-inline">{{ title }}</span>
    </button>

{% endmacro %}
{% macro plain_outline_button(title, color="primary", icon="") %}
    <button
            type="button"
            class="btn btn-sm btn-outline-{{ color }} d-flex align-items-center"
            title="{{ title }}">
        <i class="{{ icon }}"></i>
        <span class="ms-2 d-none d-md-inline">{{ title }}</span>
    </button>
{% endmacro %}

{% macro plain_button(title, color="primary", icon="") %}
    <button
            type="button"
            class="btn btn-sm btn-{{ color }} d-flex align-items-center"
            title="{{ title }}">
        <i class="{{ icon }}"></i>
        <span class="ms-2 d-none d-md-inline">{{ title }}</span>
    </button>
{% endmacro %}

{% macro delete_button(modal_target, title='Smazat', icon='trash', color='outline-danger') %}
    <button type="button"
            class="btn btn-{{ color }} btn-sm"
            data-bs-toggle="modal"
            data-bs-target="#{{ modal_target }}"
            title="{{ title }}">
        <i class="fas fa-{{ icon }}"></i>
    </button>
{% endmacro %}

{% macro export_button(url, label='Export PDF', icon='file-pdf', color='outline-secondary') %}
    {{ icon_button(url, icon=icon, text=label, color=color, title=label) }}
{% endmacro %}

{% macro action_button(url, icon, title='', color='outline-primary') %}
    <a href="{{ url }}" class="btn btn-{{ color }} btn-sm" title="{{ title }}">
        <i class="fas fa-{{ icon }}"></i>
    </a>
{% endmacro %}

{% macro action_modal_button(title='', modal_target='', icon='edit', ensemble=None, color='outline-primary') %}
<button type="button"
        class="btn btn-{{ color }} btn-sm"
        title="{{ title }}"
        data-bs-toggle="modal"
        data-bs-target="#{{ modal_target }}"
        {% if ensemble %}data-ensemble-id="{{ ensemble.id }}" data-ensemble-name="{{ ensemble.name|e }}"{% endif %}>
    <i class="fas fa-{{ icon }}"></i>
</button>
{% endmacro %}


{# --- Highlighted variant --- #}

{% macro highlight_button(
    url='#',
    icon='exclamation-triangle',
    text='',
    size='sm',
    title='',
    disabled=False,
    target=''
) %}
    <a href="{{ url if not disabled else '#' }}"
       class="btn btn-{{ size }} btn-warning d-flex align-items-center fw-semibold shadow-sm
              {% if disabled %}disabled{% endif %} js-highlight-btn"
       {% if title %}title="{{ title }}"{% endif %}
       {% if target %}target="{{ target }}"{% endif %}>
        {% if icon %}<i class="fas fa-{{ icon }} me-1"></i>{% endif %}
        {% if text %}<span>{{ text }}</span>{% endif %}
    </a>
{% endmacro %}
