{# templates/macros/_badges.jinja #}

{% macro badge(icon='', text='', color='secondary', outline=True, extra_class='') %}
    {% if outline %}
        <span class="badge border border-{{ color }} text-{{ color }} {{ extra_class }}">
            {% if icon %}<i class="fas fa-{{ icon }} me-1"></i>{% endif %}
            {{ text }}
        </span>
    {% else %}
        <span class="badge bg-{{ color }} {{ extra_class }}">
            {% if icon %}<i class="fas fa-{{ icon }} me-1"></i>{% endif %}
            {{ text }}
        </span>
    {% endif %}
{% endmacro %}


{% macro alert(type, icon, text) %}
    <div class="alert alert-{{ type }} py-2 px-3 mb-0 d-flex align-items-center">
        <i class="fas fa-{{ icon }} me-2"></i>
        <span>{{ text|safe }}</span>
    </div>
{% endmacro %}


{% macro ensemble_status(ensemble, semester_id) %}
    {% if ensemble.exception and ensemble.exception.status == "approved" %}
        {{ badge('circle-user', 'Výjimka', color='info', outline=True) }}
    {% elif ensemble.health_check_in(semester_id) == "OK" %}
        {{ badge('check-circle', 'OK', color='success', outline=True) }}
    {% else %}
        {{ badge('exclamation-triangle', 'Nesplňuje', color='danger', outline=True, extra_class='cursor-help') }}
    {% endif %}
{% endmacro %}
